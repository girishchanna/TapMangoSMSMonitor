<div class="container mt-5">
    <h2>Filter Messages</h2>
    <form (ngSubmit)="getFilteredMessages()">
      <div class="form-group">
        <label for="accountId">Account ID</label>
        <select class="form-control" id="accountId" [(ngModel)]="accountId" name="accountId">
          <option *ngFor="let account of accounts" [value]="account">{{ account === 'all' ? 'All' : account }}</option>
        </select>
      </div>
      <br>
      <div class="form-group">
        <label for="phoneNumber">Phone Number</label>
        <select class="form-control" id="phoneNumber" [(ngModel)]="phoneNumber" name="phoneNumber">
          <option *ngFor="let phoneNumber of phoneNumbers" [value]="phoneNumber">{{ phoneNumber === 'all' ? 'All' : phoneNumber }}</option>
        </select>
      </div>
      <br>
      <div class="form-group">
        <label for="interval">Interval</label>
        <select class="form-control" id="interval" [(ngModel)]="interval" name="interval">
          <option value="second">Per Second</option>
          <option value="5minutes">Last 5 Minutes</option>
          <option value="1hour">Last 1 Hour</option>
        </select>
      </div>
      <br>
      <button type="submit" class="btn btn-primary mt-3">Get Messages</button>
      <br><br>
      <span class="ml-3">Total Messages Sent: {{ messages.length }}</span> <!-- Display number of messages -->
    </form>
    <br><br>
    <div *ngIf="messages.length > 0">
      <h4>Messages</h4>
      <ul class="list-group">
        <li class="list-group-item" *ngFor="let message of messages">
          <strong>Phone Number:</strong> {{ message.phoneNumber }}<br>
          <strong>Message:</strong> {{ message.message }}<br>
          <strong>Timestamp:</strong> {{ message.timestamp | date:'short' }}
        </li>
      </ul>
    </div>
  
    <div *ngIf="messages.length === 0" class="alert alert-warning mt-3">
      No messages sent and no details to show.
    </div>
  </div>
  